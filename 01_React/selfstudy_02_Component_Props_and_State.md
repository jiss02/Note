## Components

리액트는 **Component-Based**로, 웹페이지는 수 많은 컴포넌트로 구성되어있고, 하나의 컴포넌트는 여러개의 컴포넌트들로 구성될 수 있다.

컴포넌트는 함수형과 클래스형 컴포넌트가 있으며 컴포넌트의 입력은 `Props` 이고, 출력은 `리액트 Element`라고 생각하면 이해가 수월해 질 것이다. 

이는 클래스라는 틀을 만들어 객체를 찍어내는 개념과 유사하다. 컴포넌트가 하나의 틀이고 엘리먼트들을 찍어낸다고 이해해두자. 컴포넌트의 속성인 `Props`에 다양한 값을 담게 되면, 틀(컴포넌트)은 같으나 `Props`가 달라지기 때문에, 다양한 엘리먼트들이 생성된다.

### contructor

- state 구조 설정.
- 컴포넌트가 mount하기 전에 할 설정.



## Props

컴포넌트 간에 데이터를 이동하는 수단이다. key와 value의 형태로 이동한다.

컴포넌트의 속성이며, 읽기만 가능하고 **수정이 불가능**하다. 전달된 props를 수정할 수 없다는 것이다.

`Props`를 통해 같은 컴포넌트에서 다양한 엘리먼트를 찍어내는 것이 가능해진다.

`Props`의 경우 위에 말했듯이 변하면 안되므로, 리액트 컴포넌트는 `Props`의 값을 변화시키지 않는 `Pure`한 역할을 해야한다. 



## State

상태를 의미한다. 리액트 컴포넌트의 상태, 즉 담긴 데이터의 상태를 의미한다. 컴포넌트에 대한 변경가능한 데이터이며 사용자가 정의한다. 렌더링을 하거나 데이터 흐름에 사용되는 값들을 `state`에 포함시켜야한다.

`state`는 자바스크립트의 객체이며, 컴포넌트의 `constructor` 생성자에서 정의한다.

props를 통해 위의 컴포넌트에서 아래의 컴포넌트로 정보를 넘긴다면, state는 컴포넌트 각각이 가지고 있는 상태이다. state는 있을 수도 있고 없을 수도 있으며 state는 필요한 경우에만 사용하는 것이 좋다.

### state의 수정

state의 경우 강제로 손수 수정하는 짓은 하지 말아야한다. 리액트 컴포넌트에서 관리하기 때문에 정해진 규칙에 맞게 수정해야한다. `setState`로만 접근이 가능한데, 아래와 같이 사용하면 된다.

```
this.setState({key:value})
```

 

## Lifecycle

컴포넌트만의 생명주기를 의미한다. 컴포넌트가 생성되어 없어지기까지를 나타내며, 마운트가 되는 순간 컴포넌트는 살아난다고 보면 된다. 컴포넌트는 계속 변하기 때문에 이를 관리하기 위해서 컴포넌트의 생명주기는 매우 중요한 개념이라 할 수 있다.

### 마운팅

생성자를 통해 생성이 되고 컴포넌트가 DOM에 끼워져 마운트 된 후에, `componentDidMount` 메소드가 실행된다. 마운팅이 완료되었다는 것을 의미한다.

- 각종 비동기 요청.
- 필요한 데이터 요청.

### 업데이트

렌더 후 업데이트가 발생하는 경우를 의미한다. `새로운 props의 입력`, 또는 `setState()를 통한 state의 변화`, 또는 `강제 렌더링` 메소드 등을 통해 업데이트가 일어나게 된다. 재렌더링 후 업데이트가 완료되면 `componentDidUpdate` 메소드가 실행된다.

- if () { setState() } 처럼 분기를 주어 state를 수정하자. 잘못하면 무한루프에 빠질 수 있기 때문이다.

### 언마운팅

컴포넌트가 쓸모가 없어지는 순간 언마운팅이된다. 컴포넌트가 보여지는 페이지에서 더이상 존재하지 않는 것을 의미하며, 언마운팅 전에 언마운트 될 것을 의미하는 `componentWillUnmount` 메소드를 호출한다.

> virtual DOM을 통해 언마운트 된다는 걸 알 수 있다.

- 비동기적인 것을 종료할 때 사용.
- setState 금지. unmount 상태일 때는 업데이트가 일어나면 안되기 때문이다.