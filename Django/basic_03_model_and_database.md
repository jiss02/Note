## 학습목표

Model 에 데이터를 어떻게 담을 것인가

Model의 데이터를 어떻게 view로 넘길 것인가

그것을 어떻게 화면에 띄울 것인가



## 3.1_model & admin 이론

### 3.1.1_Model

데이터베이스를 다뤄준다.

우리는 `model.py`에 우리가 원하는, 가공하고자 하는 데이터를

종류가 무엇이고 어떤식으로 데이터가 처리되길 원하는지 **class**의 형태로 알려주면된다.

우리가 사용하고자 하는 데이터의 틀(형식)을 잡아 정의해주면 된다.

> 일기라고 치면 >>짧은글(제목), 시간, 긴글<< 의 틀을 가질 것이다.

```
class 블로그글:
	짧은글
	시간
	긴글
```

`model.py`는 데이터를 만드는 공장이고,

Class는 객체를 편하게 찍어내기위한 틀이다.

__팁__

데이터 베이스는 장고와 별개이며, setting.py에서 등록해줄 수 있다.

### 3.1.2_데이터베이스와 장고

장고는 데이터 베이스에게 model.py안에 어떻게 생긴 데이터를 처리하기로 했는지 알려주면 된다!

그 명령어는,

```
# 데이터베이스에게 모델을 만들거라고 알려주는 과정
$ python manage.py makemigrations
# 실제로 데이터베이스에 우리가 만든 것을 적용하는 과정
$ python manage.py migrate
```

이다.

### 3.1.3_어드민 계정 생성

위의 과정을 마친 후, 어드민 계정을 생성해 주어야 하는데, 

`$ python manage.py createsuperuser` 명령어를 통해 생성이 가능하다.

그 후, `admin.py`에 어떠한 데이터를 처리할 것인지를 등록하자.

### 3.1.4_정리

1. Models.py 안에 어떤 종류의 데이터를 처리할지 Class로 정의
2. DB에게 알아듣게끔 두개의 명령어 입력하기
3. admin 계정 만들기.
4. admin.py에 활용할 데이터 등록

> 데이터베이스에 어떻게 생긴 데이터를 집어넣을지 정의하고, 거기에 admin권한으로 데이터를 집어 넣는다.



## 3.2_model&admin 실습

데이터베이스에 있는 자료를 template에 띄우고 싶다면 어떻게 해야할까?

바로 띄울 수는 없을 것이다.

그러므로 중간 역할을 하는 view를 거쳐야 한다!

어떤 데이터가, 어떻게 처리될지를 함수로 정의해주자.

아래와 같은 함수를 정의했다고 해보자. 

Blog는 models.py에서 만든 무언가의 객체틀이라고 보면 된다.

```python
def home(request):
    # 블로그 안에있는 객체를 담아주자.
    # 모델로 부터 객체 목록을 전달받는 것이다.
    blogs = Blog.objects # 쿼리셋
    return render(request, 'home.html', {'blogs':blogs})
```

__쿼리셋__

모델로부터 전달받은 객체 목록을 의미한다.

쿼리셋을 기능들을 처리하거나 정렬하도록 해주는 것이 **메소드**이다.

### 3.2.1_쿼리셋 메소드

데이터를 늘 전체만 찍어보는 것이아니라, 

일부만 찍어보고 싶을 수도 있고 정렬을 해보고 싶을 수 도 있을 것이다. 

이럴 때 사용하는 것이 쿼리셋이다!

한마디로 쿼리셋 메소드는, **쿼리셋을 활용할 수 있게 해주는 것**이다.

#### 활용 방법

`모델이름.쿼리셋`.메소드 == `model.objects.method`