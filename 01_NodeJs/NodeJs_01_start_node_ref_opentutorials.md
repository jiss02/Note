# Node.js 
기초를 다시 다진다는 생각으로! 

노드 js는 사용자에게 전송해줄 데이터를 지정할 수 있다.

## node 입문

사용자에게 전송할 데이터를 생성한다. 

### Node.js로 웹서버 만들기

` response.end(fs.readFileSync(__dirname + url));`

사용자가 접근한 url에 따라 파일을 읽어준다.

>  경로에 해당되는 파일을 읽어서, 보내준다.

response.end 안에 무엇을 넣느냐에 따라, 사용자에게 전송하는 데이터가 바뀐다.

`var queryData = url.parse(_url, true).query;`

url을 분리하여 ? 뒤에 열거되는 쿼리데이터를 저장한다. 객체로 저장된다.

   

### Template literal 

줄바꿈을 하거나, `+` 기호 등 통해 문자열을 끊고 연결하는 것이 번거로워 새로 고안한 문법

- ` 기호가 시작과 끝을 나타낸다. 
- 좀 더 간단하게 출력할 수 있다. 
- ${변수이름} 의 형태.
- 숫자끼리의 덧셈도 가능하다. 

## url의 이해

우리는 정적인 페이지를 n개 가지고 있다면 정적인 파일을 n개 가지고 있어한다. 하지만 서버를 통해 클라이언트에게 서로 다른 페이지를 만들어서 보내도록 할 수 있다.
> 동적으로 생성한 정보 전달

- http: 웹브라우저와 웹서버가 정보를 주고받기위해 지키는 통신규약.
- www.naver.com: 도메인 name or host(인터넷에 접속된 각각의 컴퓨터)
  - 인터넷에 연결된 어떠한 컴퓨터를 가르키는 주소
- 포트번호:  한대의 컴퓨터 안에 여러서버가 있을 수 있는데, 클라이언트가 왔을때 어떤 서버와 통신할 것인지를 알려준다.
  - 웹서버는 80번 포트를 쓴다고 약속함. 기본값이 80
  - `app.listen(3000);` 3000번 포트에 nodejs를 실행시킨다.
- path: 어떤 디렉토리의 어떤 파일인지를 가리킨다.
- query string: 이를 변경하면 앞에 있는 웹서버에게 어떤 데이터를 전달할 수 있다. 사용자가 무엇을 원하는지 알 수 있음.
  - ? 로 시작하며 값과 값사이의 구분은 & 로 한다. 값의 이름과 값은 = 로 구분하도록 약속되어있다. 
  - 쿼리스트링의 값에 따라, nodejs를 통해 만든 웹서버가 데이터를 사용자에게 동적으로 제공하는 법을 알아보자.

## url을 통해 입력된 값 사용하기

url안에 들어있는 값을 추출하여 원하는 값을 얻을 수 있다. 

즉, 사용자가 주는 입력(쿼리스트링)에 따라 내보내는 파일이 달라지는 것이다.

- require: 무언가를 요구하는 것. 
- 모듈: 노드의 수많은 기능을 비슷한 것 끼리 묶어 놓은 것.
	- 기본적으로 제공하는 기능들을 그룹핑 해놓은 것. 
	- url 모듈, http 모듈...
- .query를 하면 **객체**의 형태로 담긴다.
- querystring에 따라 다른 정보를 출력하는 application

## 파일 다루기
본문만을 저장했다가 사용자 요청에 따라 필요한 파일의 본문만을 읽어오도록 해보자.

__CRUD__

- 정보를 다루는 핵심적인 처리 방법.
- 'create read update delete' 를 뜻한다.
	- 생성과 읽기는 매우 중요하다. 

### 파일을 node.js로 읽어오기

- fs.readFile을 사용해본다.
- 읽을 수 없는 형태로 나오면 'utf8'을 사용하자.
- 이를 사용하면 페이지가 열릴때마다 파일을 읽어서 가져오므로 node를 수정할 때 마다 껐다 켰다 할 필요가 없다.
> main.js 변경시에는 node를 껐다 켜야 한다.

## 제어문
시간의 순서에따라서 실행되는 흐름을 제어하여 다르게 동작하도록 할 수 있다.

- 반복문, 조건문...

## 콘솔에서의 입력

- parameter: 입력되는 정보의 형식
- argument: 형식에 맞게 실제로 입력된 값

__args__

arr[node.js runtime의 위치, 실행시킨 파일의 경로, 입력값]
> 2번째 자리부터 입력값이 들어간다.

## Not found 구현

url.parse(_url, true)
> url을 분석하는 코드. 주어진 url정보를 분석해서 쉽게 사용할 수 있도록 해준다.

- 404: 파일을 찾을 수 없는 경우 약속된 번호를 돌려준다.

## 홈페이지 구현

- undefined: 정의되지 않은 것
